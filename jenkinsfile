pipeline {
    agent any

    parameters {
        choice(name: 'action', choices: ['apply', 'destroy'], description: 'Pick something')
    }

    stages {
        stage('Checkout') {
            steps {
                // Ensure the repository is checked out
                checkout scm
            }
        }
        stage('Init') {
            steps {
                wrap([$class: 'AnsiColorBuildWrapper', colorMapName: 'xterm']) {
                    // Combine cd and terraform commands
                    sh '''
                        cd vpc
                        terraform init -reconfigure
                    '''
                }
            }
        }

  
