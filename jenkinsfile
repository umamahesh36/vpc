pipeline {
    agent any  // This specifies that the pipeline can run on any available agent

    options {
        ansiColor('xterm')
        // timeout(time: 1, unit: 'HOURS')
        // disableConcurrentBuilds()
    }

    parameters {
        choice(name: 'action', choices: ['apply', 'destroy'], description: 'Pick something')
    }

    stages {
        stage('Init') {
            steps {
                sh """
                    cd vpc
                    terraform init -reconfigure
                """
            }
        }
    }
